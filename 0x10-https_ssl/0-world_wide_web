#!/usr/bin/env bash
# Output: The subdomain [SUB_DOMAIN] is a [RECORD_TYPE] record and points to [DESTINATION]
domain=$*

get_details () {
	if [ -n $1 ]; then
		_ip=$(dig +short $1)
		_record=$(dig $1 | awk '/IN/ {print $3; exit}')
		echo "The subdomain $2 is a $_record record and points to $_ip"
	fi
}

domains=("www" "lb-01" "web-01" "web-02")


for i in ${domains[@]}
do
	#call function to print each domain detail instead of the argvs
	get_details "$i.$domain" $i
done

